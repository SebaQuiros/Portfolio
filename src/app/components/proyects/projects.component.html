<section id="sec-05-projects">
  <header class="section-header">
    <app-section-title number="05." text="proyectos"></app-section-title>
    <app-edit-menu
      [addOption]="true"
      *ngIf="login"
      (editStart)="editStart()"
      (saveChanges)="saveChanges()"
      (cancelChanges)="cancelChanges()"
      (addFunction)="addproject()"
    ></app-edit-menu>
  </header>
  <div class="inner">
    <ul class="featured-projects">
      <li class="project" *ngFor="let project of projects.reverse()">
        <div class="edition-controls" *ngIf="editMode">
          <div class="edit-title">
            <input
              [(ngModel)]="project.type"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="Tipo de projecto"
            />
            <input
              [(ngModel)]="project.link"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="Link de internet"
            />
            <input
              [(ngModel)]="project.title"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="Título"
            />
          </div>
          <div class="edit-description" *ngIf="editMode">
            <input
              [(ngModel)]="project.description"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="Descripción"
            />
          </div>
          <div class="edit-image" *ngIf="editMode">
            <input
              [(ngModel)]="project.img"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="URL de la imagen"
            />
            <input
              [(ngModel)]="project.imgAlt"
              id="occupation"
              type="text"
              name="occupation"
              placeholder="Alternativa de imagen por accesibilidad"
            />
          </div>
        </div>
        <div class="project-content">
          <div class="project-title">
            <span>{{ project.type }}</span>
            <h3>
              <a [href]="project.link" target="_blank" rel="noreferrer">{{
                project.title
              }}</a>
            </h3>
            <button
              (click)="deleteproject(project)"
              *ngIf="editMode"
              class="btn-edit delete-content"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                class="bi bi-dash-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                />
                <path
                  d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"
                />
              </svg>
            </button>
          </div>
          <div class="project-description">
            <p>
              {{ project.description }}
            </p>
          </div>
          <ul class="project-tech-list bullet-list">
            <li *ngFor="let tool of project.tools">
              {{ tool }}
              <button
                (click)="deleteTool(project, tool)"
                *ngIf="editMode"
                class="btn-edit"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="currentColor"
                  class="bi bi-dash-circle"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                  />
                  <path
                    d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"
                  />
                </svg>
              </button>
            </li>
          </ul>
          <div class="edit-tools" *ngIf="editMode">
            <input
              [(ngModel)]="newTool"
              id="newTool"
              type="text"
              name="newTool"
              placeholder="Nueva herramienta"
            />
            <button (click)="addTool(project, newTool)" class="btn-edit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                class="bi bi-plus-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                />
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                />
              </svg>
            </button>
          </div>
        </div>
        <div class="project-image">
          <a [href]="project.link" target="_blank" rel="noreferrer"
            ><div class="img-wrapper">
              <img [src]="project.img" [alt]="project.imgAlt" /></div
          ></a>
        </div>
      </li>
    </ul>
  </div>
</section>
